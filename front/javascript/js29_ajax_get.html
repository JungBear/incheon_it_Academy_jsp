<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>비동기로 get 요청하기</title>
</head>
<body>
    <div id="box"></div>



    <script>
        // https://httpbin.org/get
        var box = document.getElementById('box');
        // 비동기
        // fetch(url);
        fetch('https://httpbin.org/get')
        .then(res => res.text())
        .then(data => {
            console.log(data);
            box.insertAdjacentHTML('beforeend',`<p>${data}</p>`)
        })
        .catch(err => {
            console.error('에러발생',err);
        })

        fetch('https://httpbin.org/get')
        .then(res => res.json())
        .then(data => {
            console.log(data);
            box.insertAdjacentHTML('beforeend',`<h2>${data['url']}</h2>`)
        })
        .catch(err => {
            console.error('에러발생',err);
        })
     

    </script>
</body>
</html>