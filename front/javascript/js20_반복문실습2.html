<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>슬라이더</title>
</head>
<body>

    <style>
        body{
            margin: 0;
        }

        .slider-container{
            overflow: hidden;
            width: 400px;
            height: 200px;
            
        }

        #slider-img{
            display: flex;
            width:300%;
            transition: all 1s;
        }

        .box{
            width: 100%;
        }

        .box img{
            width: 100%;
        }

        .slider-1{
            margin-left: 0;
        }

        .slider-2{
            margin-left: -100%;
        }

        .slider-3{
            margin-left: -200%;
        }

    </style>

    <div class="slider-container">
        <div id="slider-img" class="">
            <div class="box">
                <img src="../../webdevelop/img/tora.jpg" alt="">
            </div>
            <div class="box">
                <img src="../../webdevelop/img/tora2.jpg" alt="">
            </div>
            <div class="box">
                <img src="../../webdevelop/img/tora4.jpg" alt="">
            </div>
        </div>
    </div>
    <button class="btn" id="btn-1">1</button>
    <button class="btn" id="btn-2">2</button>
    <button class="btn" id="btn-3">3</button>
    <br>
    <button id="toggle-auto-slide">스크롤중지</button>
    <script>
        var btns = document.querySelectorAll('.btn');
        // for(var i = 0; i < btns.length; i++){
        //     btns[i].addEventListener('click', handleClick);
        // }

        // function handleClick(e){
        //     let eventTarget = e.target;
        //     // console.log(eventTarget.textContent);
        //     switch(eventTarget.textContent){
        //         case "1":
        //             // console.log("1작동");
        //             sliderImg.className ='';
        //             sliderImg.classList.add('slider-1');
        //             break;
        //         case "2": 
        //             // console.log("2작동");
        //             sliderImg.className ='';
        //             sliderImg.classList.add('slider-2');
        //             break;
        //         case "3": 
        //             // console.log("3작동");
        //             sliderImg.className ='';
        //             sliderImg.classList.add('slider-3');
        //             break;
        //         default:
        //             sliderImg.className ='';
        //     }
        // }


        // ----------------------------------------------

        for(let i = 1; i<btns.length+1; i++){
            document.querySelector(`#btn-${i}`).addEventListener('click',function(){
                document.getElementById('slider-img').classList.remove('slider-1','slider-2','slider-3');
                document.getElementById('slider-img').classList.add(`slider-${i}`);
            })
        }

        
        // var time = 0;
        // var boxs = document.getElementsByClassName('box');
        // var sliderImg = document.getElementById('slider-img');
        // setInterval(function(){
        //     time = (time + 1)%3;
        //     switch(time){
        //         case 0:
        //             sliderImg.className ='';
        //             sliderImg.classList.add('slider-1');
        //             break;
        //         case 1:
        //             sliderImg.className ='';
        //             sliderImg.classList.add('slider-2');
        //             break;
        //         case 2:
        //             sliderImg.className ='';
        //             sliderImg.classList.add('slider-3');
        //             break;
        //     }
        // },1000)

        var time = 0;
        var autoScroll = true;
        var boxs = document.getElementsByClassName('box');
        var sliderImg = document.getElementById('slider-img');
        var toggleBtn = document.getElementById('toggle-auto-slide');
        
        var timer = startTimer();

        function startTimer(){
            return setInterval(function(){
            time = (time+1)%3;
            console.log(time);
            document.getElementById('slider-img').classList.remove('slider-1','slider-2','slider-3');
            document.getElementById('slider-img').classList.add(`slider-${time+1}`);
            },1000)
        }

        toggleBtn.addEventListener('click',function(){
            if(autoScroll){
                clearInterval(timer);
                toggleBtn.innerHTML = '스크롤 시작';
                autoScroll = false;
                // console.log(autoScroll);
            }else{
                timer = startTimer();
                toggleBtn.innerHTML = '스크롤 중지';
                autoScroll = true;
                // console.log(autoScroll);
            }
            
        })


    </script>


</body>
</html>